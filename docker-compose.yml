version: '3'
services:
    flask:
        hostname: flask
        image: "oakland/flask"
        ports:
            - "5000:5000"
        links:
            - mongo:mongo
            - redis:redis
    sockets:
        hostname: sockets
        image: "oakland/sockets"
        ports:
            - "5001:5001"
        links:
            - mongo:mongo
            - redis:redis
    vue:
        hostname: vue
        image: "oakland/vue"
        ports:
            - "8081:8080"
    mongo:
        image: "mongo:latest"
        ports:
            - "27017:27017"
    redis:
        image: "redis:alpine"
        ports:
            - "6379:6379"
    web:
        image: "nginx:stable-alpine"
        volumes:
            - ./nginx.conf:/etc/nginx/nginx.conf
        ports:
            - "80:80"
        links:
            - vue